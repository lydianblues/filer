<% title "Filespaces Demo" %>

<%= stylesheet_link_tag "jquery.fileupload-ui" %>
<%= stylesheet_link_tag 'redmond/jquery-ui-1.8.23.custom' %>
<%= stylesheet_link_tag 'jquery.dataTables_themeroller' %>
<%= stylesheet_link_tag 'TableTools' %>
<%= stylesheet_link_tag 'TableTools_JUI' %> 

<script>
    $("body").hide();  // Prevent FOUC
</script>

<div id="content">
    <div class="filespace-chooser-tabset">
        <ul>
            <li><a href="#filespace-<%= @user_filespace.id %>">User</a></li>
            <li><a href="#filespace-<%= @company_filespace.id %>">Company</a></li>
            <li><a href="#filespace-<%= @project_filespace.id %>">Project</a></li>
            <li><a href="#filespace-<%= @incomingrequest_filespace.id %>">
                Incoming Request
            </a></li>
            <li><a href="#filespace-<%= @outgoingquote_filespace.id %>">
                Outgoing Quote
            </a></li>
        </ul>
        <%= render(partial: 'filespaces/filespace',
          locals: {id: @user_filespace.id, 
            current: @user_filespace.current_folder.id,
            root: @user_filespace.root_folder.id}) %>
        <%= render(partial: 'filespaces/filespace',
          locals: {id: @company_filespace.id,
            current: @company_filespace.current_folder.id,
            root: @user_filespace.root_folder.id}) %>
        <%= render(partial: 'filespaces/filespace', 
          locals: {id: @project_filespace.id,
            current: @project_filespace.current_folder.id,
            root: @user_filespace.root_folder.id}) %>
        <%= render(partial: 'filespaces/filespace', 
          locals: {id: @incomingrequest_filespace.id,
            current: @incomingrequest_filespace.current_folder.id,
            root: @incomingrequest_filespace.root_folder.id}) %>
        <%= render(partial: 'filespaces/filespace', 
          locals: {id: @outgoingquote_filespace.id,
            current: @outgoingquote_filespace.current_folder.id,
            root: @outgoingquote_filespace.root_folder.id}) %>
    </div>
</div>

<%= javascript_include_tag 'jquery-ui-1.8.23.custom' %>
<%= javascript_include_tag 'jstree' %>
<%= javascript_include_tag 'datatables' %>
<%= javascript_include_tag 'tabletools' %>

<%= javascript_include_tag 'filespaces/helpers' %>
<%= javascript_include_tag 'filespaces/jstree' %>
<%= javascript_include_tag 'filespaces/datatables' %>
<%= javascript_include_tag 'filespaces/filespace' %>

<!-- The Templates plugin is included to render the
  upload/download listings. -->
<%= javascript_include_tag("tmpl.min.js") %>

<!-- The Load Image plugin is included for the preview images
 and image resizing functionality. -->
<%= javascript_include_tag("load-image.min.js") %>

<!-- The Canvas to Blob plugin is included for image
  resizing functionality. -->
<%= javascript_include_tag("canvas-to-blob.min.js") %>

<%= javascript_include_tag 'fileupload' %>

<script>
    $("body").show(); // prevent FOUC
</script>



